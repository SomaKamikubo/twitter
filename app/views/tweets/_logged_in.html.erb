<p id="notice"><%= notice %></p>



<body>
  <div class="flex">
    <div class="sidebar" id="center">
      <h2>マイアカウント</h2>
      <%= link_to 'アカウントの情報', current_user%>
      <%= link_to 'New Tweet', new_tweet_path%>
      <br>
      <%= link_to "ログアウト", logout_path, method: :delete %>
      <% @users.each do |user|%>
      <%= link_to user.name, user%>
      <%end%>
    </div>


    <script>
      function func1(id) {
        const elements = document.getElementsByName(id);


        if (elements[0].checked) {
          document.getElementById(id).src = "/assets/heart_red.png";
        } else {
          document.getElementById(id).src = "/assets/heart_white.png";
        }

      }
    </script>

    <div class="timeline">
      <h2 id="center">タイムライン</h2>
      <table>
        <thead>
          <tr>
            <th>id</th>
            <th>みんなのツイート</th>
            <th colspan="3"></th>
          </tr>
        </thead>

        <tbody>
          <%if @tweets == [] %>
          <tr>
            <td>ツイートをしましょう</td>
          </tr>
          <%else%>
          <% @tweets.each do |tweet| %>
          <tr>
            <% user_link = '/users/' + tweet.user_id.to_s%>
            <td><%= link_to tweet.user_id,  user_link %></td>
            <td><%= link_to tweet.letter, tweet %></td>
            <% if tweet.user_id == current_user.id %>
            <td><%= link_to 'Edit', edit_tweet_path(tweet) %></td>
            <td><%= link_to 'Destroy', tweet, method: :delete, data: { confirm: 'Are you sure?' } %></td>
            <% end %>

            <td>
              <div id="likes_buttons_<%= tweet.id %>">
                <%= render partial: 'likes/like', locals: { tweet: tweet} %>
              </div>
            </td>
          </tr>
          <% end %>
          <%end%>
        </tbody>
      </table>
    </div>


    <br>
  </div>
</body>