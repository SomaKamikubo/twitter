<p id="notice"><%= notice %></p>



<body>
  <div class="flex">
    <div class="sidebar" id="center">
      <h2>マイアカウント</h2>
      <p>アカウントの情報</p>
      <%= link_to 'New Tweet', new_tweet_path%>
      <br>
      <%= link_to "ログアウト", logout_path, method: :delete %>
    </div>


    <script>
      function func1(id) {
        const elements = document.getElementsByName(id);


        if (elements[0].checked) {
          document.getElementById(id).src = "/assets/heart_red.png";
        } else {
          document.getElementById(id).src = "/assets/heart_white.png";
        }

      }
    </script>

    <div class="timeline">
      <h2 id="center">タイムライン</h2>
      <table>
        <thead>
          <tr>
            <th>id</th>
            <th>みんなのツイート</th>
            <th colspan="3"></th>
          </tr>
        </thead>

        <tbody>
          <% @tweets.each do |tweet| %>
          <tr>
          <% user_number = User.new() %>
          <% @users.each do |user| %>
          <% if user.id == tweet.user_id %>
            <% user_number = user %>
            <% break %>
            <%end%>
          <%end%>
        
            <td><%= link_to tweet.user_id, user_number %></td>
            <td><%= link_to tweet.letter, tweet %></td>
            <% if tweet.user_id == current_user.id %>
            <td><%= link_to 'Edit', edit_tweet_path(tweet) %></td>
            <td><%= link_to 'Destroy', tweet, method: :delete, data: { confirm: 'Are you sure?' } %></td>
            <% end %>

            <td>
              <div id="likes_buttons_<%= tweet.id %>">
                <%= render partial: 'likes/like', locals: { tweet: tweet} %>
              </div>
            </td>
          </tr>
          <% end %>
        </tbody>
      </table>
    </div>


    <br>
  </div>
</body>